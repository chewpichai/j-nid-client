<?xml version="1.0" encoding="utf-8"?>
<mx:TitleWindow title="{product.name}"
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	layout="vertical" alpha="0.75"
	borderThicknessLeft="0" borderThicknessRight="0"
	paddingLeft="5" paddingRight="5"
	paddingTop="5" paddingBottom="5"
	borderColor="{product.type.color}">
	
	<mx:Metadata>
		[ResourceBundle("ProductPage")]
	</mx:Metadata>
	
	<mx:Script>
		<![CDATA[
			import mx.resources.ResourceBundle;
			import com.j_nid.controls.EventNames;
			import com.j_nid.utils.CairngormUtils;
			import mx.managers.PopUpManager;
			import com.j_nid.models.Product;
			
			[Bindable]
			public var product:Product;
			
			private function saveBtnClick(e:MouseEvent):void {
				product.costPerUnit = costField.value;
				product.pricePerUnit = priceField.value;
				CairngormUtils.dispatchEvent(
					EventNames.UPDATE_PRODUCT, product);
				PopUpManager.removePopUp(this);
			}
			
			private function cancelBtnClick(e:MouseEvent):void {
				PopUpManager.removePopUp(this);
			}
		]]>
	</mx:Script>
	
	<mx:HBox width="100%">
		<mx:NumericStepper id="costField" value="{product.costPerUnit}" 
			textAlign="right" stepSize="0.25" maximum="10000"/>
		<mx:NumericStepper id="priceField" value="{product.pricePerUnit}" 
			textAlign="right" stepSize="0.25" maximum="10000"/>
	</mx:HBox>
	<mx:HBox width="100%" horizontalAlign="center">
		<mx:Button label="{resourceManager.getString('ProductPage', 'Save')}"
			click="saveBtnClick(event)"/>
		<mx:Button label="{resourceManager.getString('ProductPage', 'Cancel')}"
			click="cancelBtnClick(event)"/>
	</mx:HBox>
</mx:TitleWindow>
